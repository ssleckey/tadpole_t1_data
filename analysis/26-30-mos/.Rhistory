group_by(similar)%>%
multi_boot_standard(col = "acc_et", na.rm = TRUE)
ggplot(ms, aes(x = factor(similar), y = mean)) + geom_bar(stat = "identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9)) +
xlab("Similarity") +
ylab("Proportion Accurate ET")
ms <- d_et_filt %>%
group_by(acc_et, similar)%>%
multi_boot_standard(col = "trans", na.rm = TRUE)
ggplot(ms, aes(x = factor(acc_et), y = mean)) + geom_bar(stat = "identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9)) +
xlab("Accuracy") +
ylab("Number of switches") +
facet_wrap(~similar)
ms
d_et_filt$acc <- as.numeric(d_et_filt$acc)
ms <- d_et_filt %>%
group_by(similar)%>%
multi_boot_standard(col = "acc_et", na.rm = TRUE)
ggplot(ms, aes(x = factor(similar), y = mean)) + geom_bar(stat = "identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9)) +
xlab("Similarity") +
ylab("Proportion Accurate ET")
glm_maximal_mod_trans_sim <- lmer(trans ~ similar + age_months +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_null_mod_trans <- lmer(trans ~ age_months +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_maximal_mod_trans
anova(glm_maximal_mod_trans_sim, glm_null_mod_trans)
glm_maximal_mod_trans_acc <- lmer(trans ~ acc + age_months +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
anova(glm_maximal_mod_trans_acc, glm_null_mod_trans)
glm_maximal_mod_trans
glm_maximal_mod_trans_sim
glm_maximal_mod_trans_sim
glm_maximal_mod_trans_sim <- lmer(trans ~ similar + age_months +
(1 | ID) + (1 | target),
data = d_et_filt)
glm_maximal_mod_trans_sim
glm_maximal_mod_trans_sim <- lmer(trans ~ similar + acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_null_mod_trans <- lmer(trans ~ age_months + acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
anova(glm_maximal_mod_trans_sim, glm_null_mod_trans)
glm_maximal_mod_trans_sim <- lmer(trans ~ similar + acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_null_mod_trans <- lmer(trans ~ acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
anova(glm_maximal_mod_trans_sim, glm_null_mod_trans)
glm_maximal_mod_trans_sim <- lmer(trans ~ similar + acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_null_mod_trans <- lmer(trans ~ similar +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
anova(glm_maximal_mod_trans_sim, glm_null_mod_trans)
kable(tidy_anova(anova(glm_maximal_mod_trans_sim, glm_null_mod_trans)))
kable(anova(glm_maximal_mod_trans_sim, glm_null_mod_trans))
glm_trans_full <- lmer(trans ~ similar + acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_full
glm_trans_interaction
glm_trans_sim
glm_trans_acc
kable(anova(glm_trans_full, glm_trans_interaction))
#Test for effect of acc
kable(anova(glm_trans_full, glm_trans_sim))
#Test for effect of sim
kable(anova(glm_trans_full, glm_trans_acc))
glm_trans_sim
summary(glm_trans_sim)
d_filt_rt$acc <- as.numeric(as.character(d_filt_rt$acc))
ms <- d_filt_rt %>%
filter(!is.na(similar))%>%
group_by(similar)%>%
multi_boot_standard(col = "acc", na.rm = TRUE)
ggplot(ms, aes(x = factor(similar), y = mean)) + geom_bar(stat = "identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9)) +
xlab("Difficulty") +
ylab("Proportion Accurate TS")
ms <- d_filt_rt %>%
filter(!is.na(acc))%>%
group_by(acc, similar)%>%
multi_boot_standard(col = "RT", na.rm = TRUE)
ggplot(ms, aes(x = factor(acc), y = mean)) + geom_bar(stat = "identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9)) +
xlab("Accuracy") +
ylab("Mean Reaction Time (ms)") +
facet_wrap(~similar, labeller = label_both)
View(d_et_filt)
glm_RT_full <- lmer(RT ~ similar + acc +
(1 | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_interaction <- lmer(RT ~ similar * acc +
(1 | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_sim <- lmer(RT ~ similar +
(1 | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_acc <- lmer(RT ~ acc +
(1 | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_full
glm_RT_interaction
glm_RT_sim
glm_RT_acc
#Test for effect of acc.
kable(anova(glm_trans_full, glm_trans_sim))
#Test for effect of sim.
kable(anova(glm_trans_full, glm_trans_acc))
#Test for effect of interaction between acc and sim.
kable(anova(glm_trans_full, glm_trans_interaction))
#Get means.
describeBy(d_filt_rt$RT, d_filt_rt$similar)
describeBy(d_filt_rt$RT, d_filt_rt$acc)
d_compare <- d %>%
select(ID, trial, similar, acc, acc_et, familiarity, age_months, target) %>%
filter(familiarity != 0) %>%
gather(task, acc, acc:acc_et)
levels(d_compare$task) <- list(touchscreen="acc", eyetracker="acc_et")
d_compare$acc <- as.numeric(d_compare$acc)
ms <- d_compare %>%
group_by(similar, task)%>%
multi_boot_standard(col = "acc", na.rm = TRUE)
ms
ggplot(ms, aes(x = factor(similar), y = mean)) + geom_bar(stat = "identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9)) +
xlab("Similarity") +
ylab("Proportion Accurate") +
facet_wrap(~task, labeller = label_both)
ms <- d_compare %>%
group_by(similar)%>%
multi_boot_standard(col = "acc", na.rm = TRUE)
describeBy(d_compare$acc, d_compare$similar)
#Test for effect of acc.
kable(anova(glm_trans_full, glm_trans_sim))
#Test for effect of sim.
kable(anova(glm_trans_full, glm_trans_acc))
#Test for effect of interaction between acc and sim.
kable(anova(glm_trans_full, glm_trans_interaction))
#Test for effect of acc.
kable(anova(glm_RT_full, glm_RT_sim))
#Test for effect of sim.
kable(anova(glm_RT_full, glm_RT_acc))
#Test for effect of interaction between acc and sim.
kable(anova(glm_RT_full, glm_RT_interaction))
glm_RT_full
summary(glm_RT_full)
summary(glm_RT_interaction)
#Test for effect of interaction between acc and sim.
kable(anova(glm_RT_full, glm_RT_interaction))
summary(glm_trans_interaction)
summary(glm_RT_full)
kable(summary(glm_RT_full))
kable(demo_drop$income)
glm_trans_full <- lmer(trans ~ similar + acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(1 | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
summary(glm_trans_full)
kable(anova(glm_trans_full, glm_trans_sim))
anova(glm_trans_full, glm_trans_sim)
source('~/.active-rstudio-document', echo=TRUE)
summary(glmer(correct ~ question_type * rules_respect +
question_type * early_learning +
(1|workerid) +
(1|q_num),
data = filter(d.reg, !workerid %in% exclude),
family = "binomial"))
summary(glmer(correct ~ question_type * rules_respect +
(1|workerid) +
(1|q_num),
data = filter(d.reg, !workerid %in% exclude),
family = "binomial"))
source('~/.active-rstudio-document', echo=TRUE)
rm(list=ls())
source('~/.active-rstudio-document', echo=TRUE)
setwd("~/Desktop/tadpole_t1_data/analysis/26-30-mos/")
rm(list=ls())
knitr::opts_chunk$set(fig.width=8, fig.height=5,
echo=TRUE, warning=FALSE, message=FALSE, cache=TRUE)
suppressPackageStartupMessages(c("dplyr","langcog","tidyr","ggplot2","lme4"))
library(langcog)
library(plyr)
library(dplyr)
library(RWiener)
library(ggplot2)
library(rjson)
library(stringr)
library(tidyr)
library(lme4)
library(xtable)
library(knitr)
library(markdown)
library(psych)
theme_set(theme_bw())
demo <- read.csv("demographics.csv")
trial_info <- read.csv("conditions.csv", header = TRUE)
trial_info$trial <- as.character(trial_info$trial)
word_fam_key <- read.csv("word_fam_key.csv")
word_fam_key$trial <- as.character(word_fam_key$trial)
word_fam <- read.csv("word_familiarity.csv") %>%
gather("target", "familiarity", 2:41 )
response_key <- read.csv("response_key.csv")
response_key$trial <- as.character(response_key$trial)
d.raw_ts <- read.table("AllSubs_TS.txt", header = TRUE)
d_acc_ts<- d.raw_ts %>%
select(Subject_ID, acc1, acc2, acc3, acc4, acc5, acc6, acc7, acc8, acc9, acc10, acc11, acc12, acc13, acc14, acc15, acc16, acc17, acc18, acc19, acc20)%>%
gather(trial, acc, acc1:acc20)
View(d.raw_ts)
View(d.raw_ts)
source('~/.active-rstudio-document', echo=TRUE)
summary(glm_trans_full)
kable(summary(glm_trans_full)$coefficients, digits = 2)
coef(glm_trans_full)
glm_trans_full <- lmer(trans ~ similar + acc +
(similar | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(similar | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
kable(summary(glm_trans_full)$coefficients, digits = 2)
coef(glm_trans_full)
summary(glm_trans_full)
kable(anova(glm_trans_full, glm_trans_sim))
kable(anova(glm_trans_full, glm_trans_acc))
kable(anova(glm_trans_full, glm_trans_interaction))
glm_trans_full <- lmer(trans ~ similar + acc +
(similar | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar + acc  | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(similar + acc  | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
kable(summary(glm_trans_full)$coefficients, digits = 2)
coef(glm_trans_full)
summary(glm_trans_full)
kable(anova(glm_trans_full, glm_trans_sim))
kable(anova(glm_trans_full, glm_trans_acc))
kable(anova(glm_trans_full, glm_trans_interaction))
glm_trans_full <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (similar + acc| target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (similar + acc | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar + acc  | ID) + (similar + acc | target),
data = d_et_filt, REML = FALSE)
glm_trans_full <- lmer(trans ~ similar + acc +
(similar | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(similar | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
kable(summary(glm_trans_full)$coefficients, digits = 2)
coef(glm_trans_full)
summary(glm_trans_full)
kable(anova(glm_trans_full, glm_trans_sim))
kable(anova(glm_trans_full, glm_trans_acc))
kable(anova(glm_trans_full, glm_trans_interaction))
glm_trans_full <- lmer(trans ~ similar + acc +
(similar | ID) + (similar  | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar | ID) + (similar  | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar | ID) + (similar  | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(similar | ID) + (similar  | target),
data = d_et_filt, REML = FALSE)
kable(summary(glm_trans_full)$coefficients, digits = 2)
coef(glm_trans_full)
summary(glm_trans_full)
kable(anova(glm_trans_full, glm_trans_sim))
kable(anova(glm_trans_full, glm_trans_acc))
kable(anova(glm_trans_full, glm_trans_interaction))
install.packages("car")
library(car)
install.packages("pbkrtest")
install.packages("car", dependencies=TRUE)
library(car)
install.packages("pbkrtest")
glm_trans_full <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
kable(summary(glm_trans_full)$coefficients, digits = 2)
coef(glm_trans_full)
summary(glm_trans_full)
kable(anova(glm_trans_full, glm_trans_sim))
kable(anova(glm_trans_full, glm_trans_acc))
kable(anova(glm_trans_full, glm_trans_interaction))
glm_trans_full <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_full <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar + acc | ID) + (similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(similar + acc | ID) + (similar | target),
data = d_et_filt, REML = FALSE)
kable(summary(glm_trans_full)$coefficients, digits = 2)
coef(glm_trans_full)
summary(glm_trans_full)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (1 + similar| target),
data = d_et_filt, REML = FALSE)
glm_trans_full <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
kable(summary(glm_trans_full)$coefficients, digits = 2)
coef(glm_trans_full)
View(d_et_filt)
glm_trans_full <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (similar + acc | target),
data = d_et_filt, REML = FALSE)
glm_trans_full <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_full_max <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar + acc | ID) + (1 + similar  | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(1 + similar | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_full_max <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_full_max <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_null_interaction <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(1 + similar | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(1 + acc | ID) + (1 + acc | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(1 + acc | ID) + (1 + acc | target),
data = d_et_filt, REML = FALSE)
kable(anova(glm_trans_full, glm_trans_sim))
kable(anova(glm_trans_full, glm_trans_acc))
kable(anova(glm_trans_full, glm_trans_interaction))
kable(anova(glm_trans_full_max, glm_trans_sim))
kable(anova(glm_trans_full_max, glm_trans_acc))
kable(anova(glm_trans_null_interaction, glm_trans_interaction))
glm_trans_full_max <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_null_interaction <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(1 + similar | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_full_max <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_null_interaction <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar + acc | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(similar + acc | ID) + (1 + similar | target),
data = d_et_filt, REML = FALSE)
#more complex random effects structures fail to converge.
glm_trans_full <- lmer(trans ~ similar + acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_interaction <- lmer(trans ~ similar * acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_sim <- lmer(trans ~ similar +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
glm_trans_acc <- lmer(trans ~ acc +
(similar + acc | ID) + (1 | target),
data = d_et_filt, REML = FALSE)
kable(summary(glm_trans_full)$coefficients, digits = 2)
summary(glm_trans_full)
coef(glm_trans_full)
kable(anova(glm_trans_full, glm_trans_sim))
kable(anova(glm_trans_full, glm_trans_acc))
kable(anova(glm_trans_full, glm_trans_interaction))
glm_RT_full <- lmer(RT ~ similar + acc +
(similar + acc | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_interaction <- lmer(RT ~ similar * acc +
(similar + acc | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_sim <- lmer(RT ~ similar +
(similar + acc | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_acc <- lmer(RT ~ acc +
(similar + acc | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
kable(summary(glm_trans_full)$coefficients, digits = 2)
summary(glm_trans_full)
kable(summary(glm_RT_full)$coefficients, digits = 2)
summary(glm_RT_full)
coef(glm_RT_full)
kable(anova(glm_RT_full, glm_RT_sim))
kable(anova(glm_RT_full, glm_RT_acc))
kable(anova(glm_RT_full, glm_RT_interaction))
kable(summary(glm_trans_full)$coefficients, digits = 2)
glm_RT_full <- lmer(RT ~ similar + acc +
(similar + acc | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_interaction <- lmer(RT ~ similar * acc +
(similar + acc | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_sim <- lmer(RT ~ similar +
(similar + acc | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
glm_RT_acc <- lmer(RT ~ acc +
(similar + acc | ID) + (1 | target),
data = d_filt_rt, REML = FALSE)
summary(glm_RT_full)
#Random effects slopes
coef(glm_RT_full)
kable(summary(glm_RT_full)$coefficients, digits = 2)
