ET.aov <- with(mss_trans_aov,
aov(trans ~ first_fix * trial_type +
Error(ID /trial_type))) #add error term for ID for repeated measures
summary(ET.aov)
fit <- aov(trans~(first_fix * trial_type)+Error(ID/(first_fix * trial_type)),
data=mss_trans_aov)
summary(fit)
drop1(fit,~.,test="F")
fit <- aov(trans~(first_fix * trial_type)+Error(ID/(first_fix * trial_type)),
data=mss_trans_aov)
drop1(fit,~.,test="F")
drop1(fit,test="F")
fit <- aov(trans~(first_fix * trial_type)+Error(ID/(first_fix * trial_type)),
data=mss_trans_aov)
ET.aov <- with(mss_trans_aov,
aov(trans ~ first_fix * trial_type +
Error(ID/(first_fix * trial_type)))) #add error term for ID for repeated measures
summary(ET.aov)
drop1(fit,test="F")
fit <- summary(aov(trans~(first_fix * trial_type)+Error(ID/(first_fix * trial_type)),
data=mss_trans_aov))
drop1(fit,test="F")
fit <- summary(aov(trans~(first_fix * trial_type)+Error(ID/(first_fix * trial_type)),
data=mss_trans_aov))
drop1(fit,test="F")
layout(matrix(c(1,2,3,4),2,2)) # optional layout
plot(fit)
fit <- aov(trans~(first_fix * trial_type)+Error(ID/(first_fix * trial_type)),
data=mss_trans_aov)
layout(matrix(c(1,2,3,4),2,2)) # optional layout
plot(fit)
drop1(fit,~.,test="F")
fit<- with(mss_trans_aov,
aov(trans ~ first_fix * trial_type +
Error(ID/(first_fix * trial_type))))
fit<- with(mss_trans_aov,
aov(trans ~ first_fix * trial_type +
Error(ID/(first_fix * trial_type))))
drop1(fit,test="F")
drop1(fit,~.,test="F")
fit <- aov(trans~(first_fix * trial_type)+Error(Subject/first_fix * trial_type),
data=mydataframe)
fit <- aov(trans~(first_fix * trial_type)+Error(Subject/first_fix * trial_type),
data=mss_trans_aov)
fit <- aov(trans~(first_fix * trial_type)+Error(ID/first_fix * trial_type),
data=mss_trans_aov)
drop1(fit,test="F")
drop1(fit,~first_fix,test="F")
drop1(fit,test="F")
drop1(fit,~.,test="F")
summary(fit)
ezANOVA(
mss_trans_aov
, trans
, ID
, within = .(trial_type, first_fix)
, within_full = NULL
, within_covariates = NULL
, between = NULL
, between_covariates = NULL
, observed = NULL
, diff = NULL
, reverse_diff = FALSE
, type = 2
, white.adjust = FALSE
, detailed = FALSE
, return_aov = FALSE
)
ezDesign()
rt_anova = ezANOVA(
data = mss_trans_aov
, dv = trans
, wid = ID
, within = .(first_fix,trial_type)
, between = NULL
)
mss_trans_aov <- mss_et_inacc %>%
left_join(mss_et_sim)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc) %>%
filter(trial_type != "acc",
trial_type != "similar",
trial_type != "dissimilar")%>%
spread(first_fix, trans)
mss_trans_aov <- mss_et_inacc %>%
left_join(mss_et_sim)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc) %>%
filter(trial_type != "acc",
trial_type != "similar",
trial_type != "dissimilar")
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))
#get average gaze switches for three conditions: accurate-similar, accurate-dissimilar, and inaccurate.
mss_trans_inacc <-  mss_trans_acc%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)
mss_trans_acc <-  mss_trans_acc%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)
mss_trans_sim <-  d_et_filt %>%
dplyr::group_by(ID, acc, similar, first_fix)%>%
dplyr::summarise(trans = mean(trans))%>%
dplyr::filter(acc == 1)%>%
tidyr::spread(similar, trans)%>%
dplyr::mutate(similar_acc = similar)%>%
dplyr::mutate(dissimilar_acc = dissimilar)
mss_trans_aov <- mss_et_inacc %>%
left_join(mss_et_sim)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))
View(mss_trans_acc)
mss_trans_inacc <-  mss_trans_acc%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)
View(mss_trans_inacc)
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))
#get average gaze switches for three conditions: accurate-similar, accurate-dissimilar, and inaccurate.
mss_trans_inacc <-  mss_trans_acc%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))
mss_trans_inacc <-  mss_trans_acc%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)
mss_trans_acc <-  mss_trans_acc%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)
mss_trans_sim <-  d_et_filt %>%
group_by(ID, acc, similar, first_fix)%>%
summarise(trans = mean(trans))
View(mss_et_sim)
mss_trans_sim <-  d_et_filt %>%
group_by(ID, acc, similar, first_fix)%>%
summarise(trans = mean(trans))
View(mss_trans_sim)
mss_trans_inacc <-  mss_trans_acc%>%
filter(!is.na(first_fix))%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))
#get average gaze switches for three conditions: accurate-similar, accurate-dissimilar, and inaccurate.
mss_trans_inacc <-  mss_trans_acc%>%
filter(!is.na(first_fix))%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)
mss_trans_sim <-  d_et_filt %>%
group_by(ID, acc, similar, first_fix)%>%
summarise(trans = mean(trans))%>%
filter(acc == 1, !is.na(first_fix))%>%
spread(similar, trans)
mss_trans_sim <-  d_et_filt %>%
group_by(ID, acc, similar, first_fix)%>%
summarise(trans = mean(trans))%>%
filter(acc == 1, !is.na(first_fix))%>%
spread(similar, trans)%>%
mutate(similar_acc = similar)%>%
mutate(dissimilar_acc = dissimilar)
mss_trans_sim <-  d_et_filt %>%
group_by(ID, acc, similar, first_fix)%>%
summarise(trans = mean(trans))%>%
filter(acc == 1, !is.na(first_fix))%>%
spread(similar, trans)%>%
mutate(similar_acc = similar)%>%
mutate(dissimilar_acc = dissimilar)%>%
select(-similar, -dissimilar)
mss_trans_aov <- mss_et_inacc %>%
left_join(mss_et_sim)
mss_trans_sim <-  d_et_filt %>%
group_by(ID, acc, similar, first_fix)%>%
summarise(trans = mean(trans))%>%
filter(acc == 1, !is.na(first_fix))%>%
spread(similar, trans)%>%
mutate(similar_acc = similar)%>%
mutate(dissimilar_acc = dissimilar)%>%
select(-similar, -dissimilar)
View(mss_trans_sim)
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)%>%
select(-acc)
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)%>%
select(-acc)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc)
fit <- aov(trans~(first_fix * trial_type)+Error(ID/first_fix * trial_type),
data=mss_trans_aov)
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)%>%
select(-acc)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc)%>%
mutate(line = c(1:n))
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)%>%
select(-acc)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc)%>%
mutate(line = c(1:100))
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)%>%
select(-acc)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc)%>%
mutate(line = 999)
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)%>%
select(-acc)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc)%>%
mutate(line = 999)%>%
spread(first_fix, line)
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))
#get average gaze switches for three conditions: accurate-similar, accurate-dissimilar, and inaccurate.
mss_trans_inacc <-  mss_trans_acc%>%
filter(!is.na(first_fix))%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)
mss_trans_sim <-  d_et_filt %>%
group_by(ID, acc, similar, first_fix)%>%
summarise(trans = mean(trans))%>%
filter(acc == 1, !is.na(first_fix))%>%
spread(similar, trans)%>%
mutate(similar_acc = similar)%>%
mutate(dissimilar_acc = dissimilar)%>%
select(-similar, -dissimilar)
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)%>%
select(-acc)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc)
fit<- with(mss_trans_aov,
aov(trans ~ first_fix * trial_type +
Error(ID/(first_fix * trial_type))))
summary(fit)
drop1(fit,test="F")
drop1(fit,~.,test="F")
drop1(aov(trans~first_fix*trial_type, mss_trans_aov), test="F")
aov(trans~first_fix*trial_type, mss_trans_aov)
drop1(aov(trans~first_fix*trial_type, mss_trans_aov), test="F")
drop1(fit,first_fix*trial_type,test="F")
fit <- aov(trans~(first_fix * trial_type)+Error(ID),
data=mss_trans_aov)
drop1(fit,test="F")
drop1(fit,.~,test="F")
drop1(fit,~.,test="F")
drop1(fit,test="F")
fit <- aov(trans~(first_fix + trial_type)+Error(ID),
data=mss_trans_aov)
drop1(fit,test="F")
summary(fit)
mss_trans_aov_p <- mss_trans_aov %>%
group_by(first_fix, trial_type)%>%
multi_boot_standard(col = "trans", na.rm = TRUE)
ggplot(mss_trans_aov_p, aes(x = factor(first_fix), y = mean, fill = first_fix)) + geom_bar(stat = "identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9)) +
xlab("First Fixation") +
ylab("Mean Switch Count")  +
facet_grid(~trial_type) +
theme(panel.grid = element_blank()) + #no gridlines
scale_fill_grey() #grayscale
fit<- with(mss_trans_aov,
aov(trans ~ first_fix * trial_type +
Error(ID/(trial_type))))
summary(fit)
drop1(fit,test="F")
ezANOVA(
data = mss_trans_aov
, trans
, ID
, within = .(trial_type, first_fix)
, within_full = NULL
, within_covariates = NULL
, between = NULL
, between_covariates = NULL
, observed = NULL
, diff = NULL
, reverse_diff = FALSE
, type = 2
, white.adjust = FALSE
, detailed = FALSE
, return_aov = FALSE
)
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))
View(mss_trans_acc)
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))%>%
spread(first_fix, trans)
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))%>%
select(acc, first_fix, trans, ID)%>%
spread(first_fix, trans)
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))%>%
select(acc, first_fix, trans, ID)%>%
unique%>%
spread(first_fix, trans)
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))%>%
select(acc, first_fix, trans, ID)%>%
unique
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))%>%
select(trial, acc, first_fix, trans, ID)%>%
unique
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))%>%
select(trial, acc, first_fix, trans, ID)%>%
unique%>%
spread(first_fix, trans)
mss_trans_acc <-  d_et_filt %>%
mutate(acc = ifelse(acc == 1, "acc", "inacc"))%>%
filter(!is.na(first_fix))
mss_trans_inacc <-  mss_trans_acc%>%
filter(!is.na(first_fix))%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)
View(mss_trans_inacc)
mss_trans_inacc <-  mss_trans_acc%>%
filter(!is.na(first_fix))%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)%>%
spread(first_fix, inacc)
mss_trans_inacc <-  mss_trans_acc%>%
filter(!is.na(first_fix))%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)%>%
spread(first_fix, inacc)%>%
filter(!is.na(correct), !is.na(incorrect))
mss_trans_inacc <-  mss_trans_acc%>%
filter(!is.na(first_fix))%>%
group_by(ID, acc, first_fix)%>%
summarise(trans = mean(trans))%>%
spread(acc, trans)%>%
select(-acc)%>%
spread(first_fix, inacc)%>%
filter(!is.na(correct), !is.na(incorrect))%>%
gather("first_fix", "inacc", correct:incorrect)
mss_trans_sim <-  d_et_filt %>%
group_by(ID, acc, similar, first_fix)%>%
summarise(trans = mean(trans))%>%
filter(acc == 1, !is.na(first_fix))%>%
spread(similar, trans)%>%
mutate(similar_acc = similar)%>%
mutate(dissimilar_acc = dissimilar)%>%
select(-similar, -dissimilar)
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)%>%
select(-acc)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc)
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)
mss_trans_aov <- mss_trans_inacc %>%
left_join(mss_trans_sim)%>%
select(-acc)%>%
dplyr::filter(!is.na(similar_acc),
!is.na(dissimilar_acc),
!is.na(inacc))%>%
gather("trial_type", "trans", inacc:dissimilar_acc)
mss_trans_sim_acc <- mss_trans_sim %>%
select(-dissimilar_acc)
View(mss_trans_sim)
View(mss_trans_sim_acc)
mss_trans_sim_acc <- mss_trans_sim %>%
select(-dissimilar_acc)%>%
spread(first_fix, similar_acc)%>%
filter(!is.na(correct), !is.na(incorrect))
mss_trans_sim_acc <- mss_trans_sim %>%
select(-dissimilar_acc)%>%
spread(first_fix, similar_acc)%>%
filter(!is.na(correct), !is.na(incorrect))%>%
gather("first_fix", "similar_acc", correct:incorrect)
mss_trans_dissim_acc <- mss_trans_sim %>%
select(-similar_acc)%>%
spread(first_fix, dissimilar_acc)%>%
filter(!is.na(correct), !is.na(incorrect))%>%
gather("first_fix", "dissimilar_acc", correct:incorrect)
View(mss_trans_dissim_acc)
mss_trans_aov <- mss_trans_inacc %>%
inner_join(mss_trans_sim_acc)
View(mss_trans_aov)
mss_trans_aov <- mss_trans_inacc %>%
inner_join(mss_trans_sim_acc)%>%
select(-acc)
mss_trans_aov <- mss_trans_inacc %>%
inner_join(mss_trans_sim_acc)%>%
select(-acc)%>%
inner_join(mss_trans_dissim_acc)%>%
gather("trial_type", "trans", inacc:dissimilar_acc)
mss_trans_aov_p <- mss_trans_aov %>%
group_by(first_fix, trial_type)%>%
multi_boot_standard(col = "trans", na.rm = TRUE)
ggplot(mss_trans_aov_p, aes(x = factor(first_fix), y = mean, fill = first_fix)) + geom_bar(stat = "identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9)) +
xlab("First Fixation") +
ylab("Mean Switch Count")  +
facet_grid(~trial_type) +
theme(panel.grid = element_blank()) + #no gridlines
scale_fill_grey() #grayscale
mss_trans_aov <- mss_trans_inacc %>%
inner_join(mss_trans_sim_acc)%>%
select(-acc)%>%
inner_join(mss_trans_dissim_acc)%>%
select(-acc)%>%
gather("trial_type", "trans", inacc:dissimilar_acc)
mss_trans_aov_p <- mss_trans_aov %>%
group_by(first_fix, trial_type)%>%
multi_boot_standard(col = "trans", na.rm = TRUE)
ggplot(mss_trans_aov_p, aes(x = factor(first_fix), y = mean, fill = first_fix)) + geom_bar(stat = "identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9)) +
xlab("First Fixation") +
ylab("Mean Switch Count")  +
facet_grid(~trial_type) +
theme(panel.grid = element_blank()) + #no gridlines
scale_fill_grey() #grayscale
fit<- with(mss_trans_aov,
aov(trans ~ first_fix * trial_type +
Error(ID/(trial_type)))) #add error term for ID for repeated measures
summary(fit)
drop1(fit,test="F")
drop1(fit,~.,test="F")
fit <- aov(trans~(first_fix * trial_type)+Error(ID/(first_fix * trial_type)),
data=mss_trans_aov)
drop1(fit,test="F")
Anova(lm(trans ~ first_fix * trial_type, data=mss_trans_aov, contrasts=list(topic=contr.sum, sys=contr.sum)), type=3)
library(car)
Anova(lm(trans ~ first_fix * trial_type, data=mss_trans_aov, contrasts=list(topic=contr.sum, sys=contr.sum)), type=3)
Anova(lm(trans ~ first_fix * trial_type, data=mss_trans_aov), type=3)
lm(trans ~ first_fix * trial_type, data=mss_trans_aov)
summary(lm(trans ~ first_fix * trial_type, data=mss_trans_aov))
#get matrix with trial-level accuracy for both tasks
accmat <- mss_et_acc_tt %>%
select(ID, acc, trial)%>%
mutate(acc_et = acc)%>%
select(ID, trial, acc_et)%>%
left_join(mss_ts_acc_tt)%>%
mutate(acc_ts = acc)%>%
select(ID, trial, acc_et, acc_ts)
cor <- rcorr(accmat$acc_et, accmat$acc_ts)
cor
library(lmerTest)
View(accmat)
summary(glmer(acc_et ~ acc_ts +
(1|ID) +
(1|trial), #behavior item
data = accmat,
family = "binomial"))
